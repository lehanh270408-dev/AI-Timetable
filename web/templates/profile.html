{% extends 'base.html' %}
{% block title %}H·ªì s∆°{% endblock %}
{% block page_title %}H·ªì s∆° ng∆∞·ªùi d√πng{% endblock %}
{% block content %}

<style>
.profile-container {
  max-width: 820px;
  margin: 0 auto;
  background: var(--bg-secondary);
  border: 1px solid var(--border);
  border-radius: 16px;
  padding: 32px;
  display: flex;
  flex-wrap: wrap;
  gap: 32px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.05);
  animation: fadeIn 0.4s ease;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(8px); }
  to { opacity: 1; transform: translateY(0); }
}

.profile-left {
  flex: 1 1 220px;
  text-align: center;
  border-right: 1px solid var(--border);
  padding-right: 24px;
}

.profile-left img {
  width: 120px;
  height: 120px;
  border-radius: 50%;
  border: 3px solid var(--primary);
  object-fit: cover;
  margin-bottom: 12px;
}

.profile-left h3 {
  margin: 8px 0;
  color: var(--text);
  font-size: 20px;
}

.profile-left p {
  color: var(--muted);
  font-size: 14px;
  margin: 4px 0;
}

.profile-right {
  flex: 2 1 400px;
  display: flex;
  flex-direction: column;
  gap: 18px;
}

.profile-right form {
  display: grid;
  gap: 14px;
}

.profile-right label {
  font-weight: 600;
  color: var(--text);
  margin-bottom: 2px;
}

.profile-right input,
.profile-right select {
  padding: 10px 12px;
  border: 1px solid var(--border);
  border-radius: 8px;
  background: var(--bg-tertiary);
  color: var(--text);
  font-size: 15px;
}

.profile-right input:focus,
.profile-right select:focus {
  outline: none;
  border-color: var(--primary);
  box-shadow: 0 0 0 2px rgba(59,130,246,0.2);
}

.btn-save {
  background: var(--primary);
  color: #fff;
  padding: 10px 20px;
  border: none;
  border-radius: 8px;
  font-weight: 600;
  cursor: pointer;
  margin-top: 8px;
  transition: 0.2s;
}

.btn-save:hover {
  opacity: 0.9;
  transform: translateY(-1px);
}

.email-line {
  color: var(--muted);
  font-size: 15px;
  margin-bottom: 16px;
}
</style>

<div class="profile-container">
  <!-- C·ªôt tr√°i: ·∫£nh ƒë·∫°i di·ªán -->
  <div class="profile-left">
    <img src="{{ user_avatar or '/static/default-avatar.png' }}" alt="Avatar">
    <h3>{{ user_name or 'Ng∆∞·ªùi d√πng SPCN' }}</h3>
    <p>{{ user_cohort or 'Ch∆∞a c√≥ kh√≥a' }} ‚Ä¢ {{ user_major or '---' }}</p>
    <p>{{ user_class or 'Ch∆∞a c·∫≠p nh·∫≠t l·ªõp' }}</p>
  </div>

  <!-- C·ªôt ph·∫£i: th√¥ng tin t√†i kho·∫£n -->
  <div class="profile-right">
    <h3 style="margin:0;">Th√¥ng tin t√†i kho·∫£n</h3>
    <div class="email-line">Email: <strong>{{ user_email }}</strong></div>

    <form method="post">
      <div>
        <label>T√™n hi·ªÉn th·ªã</label>
        <input name="name" value="{{ user_name }}" placeholder="T√™n hi·ªÉn th·ªã" />
      </div>

      <div>
        <label>S·ªë ƒëi·ªán tho·∫°i</label>
        <input name="phone" value="{{ user_phone }}" placeholder="S·ªë ƒëi·ªán tho·∫°i" />
      </div>

      <div style="display: flex; gap: 12px;">
        <div style="flex:1;">
          <label>Kh√≥a (cohort)</label>
          <input name="cohort" value="{{ user_cohort }}" placeholder="K68/K69..." />
        </div>
        <div style="flex:1;">
          <label>L·ªõp</label>
          <input name="class_name" value="{{ user_class }}" placeholder="VD: DTVT1-K69" />
        </div>
      </div>

      <div>
        <label>Ng√†nh</label>
        <select name="major">
          <option value="EE" {% if user_major=='EE' %}selected{% endif %}>EE (ƒêi·ªán)</option>
          <option value="ET" {% if user_major=='ET' %}selected{% endif %}>ET (ƒêi·ªán t·ª≠ Vi·ªÖn th√¥ng)</option>
        </select>
      </div>

      <div>
        <label>·∫¢nh ƒë·∫°i di·ªán (URL)</label>
        <input name="avatar_url" value="{{ user_avatar }}" placeholder="https://..." />
      </div>

      <button class="btn-save" type="submit">üíæ L∆∞u thay ƒë·ªïi</button>
    </form>
  </div>
</div>

{% endblock %}
